import{a as L,i as w,S as q}from"./assets/vendor-DnVuFECx.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();const v="https://pixabay.com/api/",M="48986485-6ea1696c08190fb3e366663c0";async function P(e,r=1,i=40){try{return(await L.get(v,{params:{key:M,q:e,image_type:"photo",orientation:"horizontal",safesearch:"true",page:r,per_page:i}})).data}catch(n){throw console.error("Error fetching images:",n),n}}function $(e,r){if(!e||e.length===0){d("No images found!");return}const i=e.map(({webformatURL:n,largeImageURL:t,tags:o,likes:s,views:g,comments:b,downloads:S})=>`
      <a class="gallery-item" href="${t}" data-title="${o}">
        <img src="${n}" alt="${o}" loading="lazy"/>
        <div class="info">
          <p><b>Likes:</b> ${s}</p>
          <p><b>Views:</b> ${g}</p>
          <p><b>Comments:</b> ${b}</p>
          <p><b>Downloads:</b> ${S}</p>
        </div>
      </a>
    `).join("");r.insertAdjacentHTML("beforeend",i)}function A(e){e.innerHTML=""}function d(e,r="topRight"){try{w.show({message:e,position:r,timeout:3e3})}catch(i){console.error("Error displaying notification:",i)}}function I(){const e=document.querySelector(".gallery-item");if(!e)return;const{height:r}=e.getBoundingClientRect();window.scrollBy({top:r*2,behavior:"smooth"})}function O(e=document.querySelector(".loader")){if(!e){console.error("❌ Ошибка: элемент '.loader' не найден!");return}e.style.display="block"}function B(e=document.querySelector(".loader")){if(!e){console.error("❌ Ошибка: элемент '.loader' не найден!");return}e.style.display="none"}let f="",a=1,l=0;const u=40,E=document.querySelector(".form"),y=document.querySelector(".gallery"),c=document.querySelector(".load-more"),p=document.querySelector(".loader"),H=new q(".gallery a",{captionsData:"alt",captionDelay:250});E.addEventListener("submit",N);c.addEventListener("click",D);function N(e){e.preventDefault(),f=e.currentTarget.elements.query.value.trim(),f&&(a=1,l=0,x(),c.style.display="none",h())}function x(){A(y)}function D(){a++,O(p),h()}async function h(){try{const{hits:e,totalHits:r}=await P(f,a,u);R(e,r)}catch{d("Failed to load images. Please try again later.")}finally{B(p),m()}}function R(e,r){if(a===1&&(l=r,!l)){d("Sorry, there are no images matching your search query. Please try again!");return}$(e,y),H.refresh(),m(e),a>1&&I()}function m(e){e&&e.length===u&&a*u<l?(c.style.display="block",c.scrollIntoView({behavior:"smooth",block:"end"})):(c.style.display="none",a*u>=l&&d("We're sorry, but you've reached the end of search results."))}
//# sourceMappingURL=index.js.map
